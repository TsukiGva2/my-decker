{deck}
version:1
card:0
size:[512,342]
name:"cute.deck"
patterns:"%%IMG2AAgA5gBAAUEABwEBAAcBAQAHAQgABAEBAAcBAQAHAQEAAwEIAAIBAQAGAQEABgEBAAcBAgAFAQEAAgEBAAMBAQAEAQMABgEBAAYBAQAEAQEAEwEBAAsBAQATAQEACwEIAAEBAwABAQ0AAQEDAAEBCQABAQMAAQENAAEBAwABAQEAAQEDAAMBAQACAQEAAwEBAAQBAQABAQQAAwEEAAEBAQADAQMAAgEBAAMBAQACAQMAAQEBAAIBBQADAQEAAwEBAAQBAQABAQEABgEBAAsBAQAGAQEAAQECAAMBAQADAQEAAwEBAAMBAQADAQEAAwEBAAMBAQANAQEAAwEBAAkBAQADAQEADQEBAAMBAQAKAQMAAQEFAAEBAwABAQEAAQEDAAEBBQABAQMAAQEBAAEBAwABAQUAAQEDAAEBAQABAQMAAQEFAAEBAwABAQEAAQEBAAYBAQATAQEACAEBAAgBAQALAQEADAEBAAcBAQAGAQMABAEBAAMBAQACAQEABQECAAgBAgAIAQEAAQEBAAMBAQAFAQEAAwEBAAEBAQADAQEABQEBAAMBAQABAQEAAwEBAAUBAQADAQEAAQEBAAMBAQAFAQEAAwEBAAEBAQABAQEAAQEBAAEBAQACAQEAAQEBAAEBAQABAQIAAQEBAAEBAQABAQEAAgEBAAEBAQABAQEAAQECAAEBAQABAQEAAQEBAAIBAQABAQEAAQEBAAEBAgABAQEAAQEBAAEBAQACAQEAAQEBAAEBAQABAQIADAEBAAMBAQAKAQEACgEBAAIBAQALAQEABAEBAAQBAgAKAQIAAgEBAAMBAgABAQIAAQECAAMBAQACAQIACgECAAMBAgABAQQAAQECAAMBAQABAQEAAQEBAAEBAQAJAQEAAQEBAAEBAQABAQEACQEBAAEBAQABAQEAAQEBAAkBAQABAQEAAQEBAAEBAQAJAQgAAQEBAAEBAQABAQEAAQEJAAEBAQABAQEAAQEBAAEBCQABAQEAAQEBAAEBAQABAQkAAQEBAAEBAQABAQEAAQEJAAgBCAAIAQgACAEIAAgBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAgEBAAMBAQACAQEAAwEBAAYBAQADAQEAAgEBAAMBAQACAQEAAwEBAAIBAQADAQEABgEBAAMBAQACAQEAAwEBAAEBAgABAQMAAQECAAEBAwABAQIAAQEDAAEBBgABAQMAAQECAAEBAwABAQIAAQEDAAEBAgABAQMAAQEGAAEBAwACAQEABgEBAA4BAQAGAQEABgEBAAYBAQAGAQEABgEBAAUBAQABAQYAAQEOAAEBBgABAQYAAQEGAAEBBgABAQYAAQEFAAQBAQALAQEAAQEBAAEBAQABAQEADQEBAAsBAQADAQEACwEBAAMBBQADAQQAAQEDAAEBBAACAQIAAwEFAAMBBQAEAQMAAQEEAAMBAQACAQIAAQEBAAEBAQABAQEACQEBAAMBAQAGAQEAAQEBAAQBAQADAQEAAgEBAAUBAgADAQEACwEBAAEBAgAEAQEAAQECAAQBAQABAQIABAEBAAEBBgAIAQEAAQEHAAEBBwABAQIABPoB3QGTAc8BegE6Af8BZQEAAdwBAAKPATgBCAE2AQABlwEAAsoBRQEcAgABqAEAAmUBAAFlATYBAAGXAWUBNgG5A4YDRQMuAQ0BIAE="

{sounds}
lowpip:"%%SND0ADVbZVIn8L6fnbjoH01kXjwI0qmaqdIIPF5kTR/ouJ2fvvAnUmVbNQDLpZuu2RBCYWNIGOGznKLE+C5XZlcu+MSinLPhGEhjYUIQ2a6bpcsANVtlUifwvp+duOgfTWRePAjSqZqp0gg8XmRNH+i4naC/8SZSZVo1"

{card:home}
script:"home.0"
{widgets}
wigglyPalette1:{"type":"contraption","size":[100,100],"pos":[403,31],"def":"wigglyPalette","widgets":{"p":{"scroll":15,"row":18}}}
code:{"type":"field","size":[384,294],"pos":[10,31],"scrollbar":1,"style":"code","scroll":150,"value":": enc $BF OVER C! 1 + ! ;\n\n: w $C000 . $C000 . $C000 . $C000 . ;\n' w VAL c1\n\n: s ( n v1 v2 ... vn -- )\n FOR\n  c1 I 3 * +\n  enc\n NEXT\n\n c1 enc\n;\n\n\\ minimized\n\n: w $C000 . $C000 . $C000 . $C000 . ;\n' w VAL c1\n\n\\ FIXME: account for the $9D(.) byte\n: s FOR c1 I 4 * + enc NXT c1 enc ;\n\n\\ asm dump:\n\n\\   160: 57c12dc1 48bfc0bd c13f9780 01517720\n\\   170: 20bfc000 9dbfc000 9dbfc000 9dbfc000\n\\   180: 9d80016c 633120bf 01718001 82732020\n\\   190: bec187bd 038886c1 48f191c1 87c14880\n\\   1a0: 00000000 00000000 00000000 00000000\n\\   1b0: 00000000 00000000 00000000 00000000\n\\   \n\\ After '4 4 4 4 4 s':\n\\\n\\   160: 57c12dc1 48bfc0bd c13f9780 01517720\n\\   170: 20bf203a bf0004bf 0004bf00 04bf0004\n\\   180: 9d80016c 633120bf 01718001 82732020\n\\   190: bec187bd 038886c1 48f191c1 87c14880\n\\   1a0: 00000000 00000000 00000000 00000000\n\\   1b0: 00000000 00000000 00000000 00000000\n\n"}
open_file:{"type":"button","size":[60,20],"pos":[402,138],"script":"home.1","text":"open"}
save_file:{"type":"button","size":[60,20],"pos":[402,163],"script":"home.2","text":"save"}

{script:home.0}
on view do
 
end
{end}

{script:home.1}
on tty text dialogue speed startdialogue pipsound do
 if startdialogue=0
  dialogue.text:""
 else
  dialogue.text:startdialogue
 end
 each x i in text
  dialogue.text:"" fuse (dialogue.text,x)
  dialogue.scrollto[i]
  play[pipsound]
  sleep[speed]
 end
end

on click do
 code.locked:1
 tty[read[] code 2 "" "lowpip"]
 code.locked:0
end
{end}

{script:home.2}
on click do
 write[code.text]
end
{end}

{card:card1}

{contraption:wigglyPalette}
size:[100,100]
resizable:1
margin:[1,1,1,1]
description:"Choose from a selection of 5-color palettes compatible with other wiggly components."
version:1
script:"wigglyPalette.0p"
template:"on change do\n \nend"
attributes:{"name":[],"label":[],"type":[]}
{widgets}
p:{"type":"grid","size":[100,100],"pos":[0,0],"locked":1,"headers":0,"lines":0,"widths":[0],"format":"ss","value":{"palette":["FFFFFF|000000|FF0097|0097FF|FFFF00","fbbbad|292831|ee8695|4a7a96|333f58","faf5d8|21181b|d8ae8b|cd5f2a|f2ab37","f0eff4|6b61ff|8ecde6|66a1ff|fadda2","f3eded|82939b|fda9a9|96beb1|b9eedc","d1bfb0|392b35|bb474f|486b7f|7a9c96","d8bfd8|74569b|ffb3cb|96fbc7|f7ffae","effafa|0e0e0e|e624af|3df9ea|5433be","eaf0d8|1f1f29|413a42|596070|96a2b3","e2e9e9|232221|cb2f2c|1b96ba|f1be43","ededde|804776|dd8d9a|c7c6c1|c15c80","e3f6d5|873131|ec6f1c|9ce77f|f6ae3c","eabe7b|580a5c|db8951|8d1c7a|b45b27","ffeaff|4c3299|ef833e|99d7d7|ffe17f","ffdae8|480a30|ff80ae|ff327c|b41360","ffe8e1|292b30|ab6c84|613854|ffc4d1","8767bd|000000|fe0094|70b9fb|5f4886","d3d6b2|4c282f|554c80|569bc9|84cec9","fadd93|2e0d20|8f3808|451c1c|cf7a3a","d4e2cc|17152e|e43254|3c566c|84aea4","b9eba7|0c1024|057f8e|0a3354|04c894","fcbbab|000000|b96889|19112b|583163","ecece0|3b3149|d47563|5c6181|ecc197","f6ebc3|4e1826|6b3e3f|8b8571|b8b98a","f6f0f7|12223c|104a7d|45a9ff|f6d76b","cfc420|51244a|f5bb75|36642b|73a527","d6dea5|442252|61433c|807456|adab8e"],"name":["default                 ","twilight 5              ","nicole punk 82          ","capp-5                  ","marumaru gum            ","retrotronic             ","blessing                ","neo-5                   ","ink                     ","theory of 5             ","sashimi                 ","autumn birch            ","pb and j                ","leon soul               ","5 sheep                 ","juliet                  ","neon moon tarot         ","cyber ping pong         ","ru5ty                   ","a blood-steeped corridor","silent five             ","sweetdusk-5             ","+100                    ","woodland 5              ","infinite ikea           ","chaos                   ","cold sands              "]},"row":0}

{script:wigglyPalette.0p}
on view do
 p.show:card.show
 p.font:card.font
end

on click row do
 idx:32,47,36,39,33 # bg, fg, magenta, cyan, yellow
 each color i in "|"split me.rowvalue.palette
  patterns[idx[i]]:"%06H" parse color
 end 
 card.event["change"]
end

{end}

